import{s as b,Q as v,H as E,r as j,c as O,o as i,w as f,e,d as n,g as h,a as P,u as z,l as B,k as T,I as F,F as U,i as A,t as r,h as u,f as k,O as y,v as c}from"./app-DoReGEuS.js";import M from"./UserLayouts-DJ1VhEfG.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D_KQOBrn.js";import"./Header-CfKD3Q1G.js";const L={class:"relative bg-gradient-to-tr from-indigo-100 via-white to-purple-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-16 min-h-screen overflow-hidden transition-colors duration-500"},G={class:"container mx-auto px-4 grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-10"},H={class:"lg:col-span-2 space-y-6"},Q={key:0,class:"text-center py-16 bg-white/60 rounded-2xl shadow-xl"},J={class:"flex gap-4 items-center"},K=["src"],R={class:"text-lg font-bold text-gray-800 dark:text-gray-100"},W={class:"text-sm text-gray-500 dark:text-gray-400"},X={class:"flex items-center gap-3"},Y=["onClick","disabled"],Z=["onUpdate:modelValue"],ee=["onClick"],te=["onClick"],se={class:"bg-white/70 dark:bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 transition-all"},oe={class:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-4"},ae={class:"text-indigo-600 dark:text-indigo-400"},re={class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl"},ie={class:"flex items-center justify-between mb-2"},de={key:0,class:"space-y-2 mt-3"},le={class:"text-xs font-mono text-gray-800 dark:text-gray-200"},ne={class:"text-xs text-gray-600 dark:text-gray-400"},ue=["onClick"],ce={key:0,class:"mb-6 text-sm text-gray-600 dark:text-gray-400"},pe={key:1,class:"space-y-4"},me=["disabled","title"],ge={__name:"CartList",props:{userAddress:Object},setup(q){const d=q,l=b(()=>v().props.cart.data.items),p=b(()=>v().props.cart.data.products),_=b(()=>v().props.cart.data.total),m=a=>l.value.findIndex(t=>t.product_id===a),o=E({address1:"",state:"",city:"",zipcode:"",country_code:"",type:""}),w=j(!1),x=j(!1),C=b(()=>Object.values(o).every(a=>a.trim()!=="")),I=[{number:"4242424242424242",description:"Visa - Pago exitoso"},{number:"5555555555554444",description:"Mastercard - Pago exitoso"},{number:"378282246310005",description:"American Express - Pago exitoso"}],N=a=>{navigator.clipboard.writeText(a).then(()=>{console.log("N√∫mero copiado al portapapeles")})},V=(a,t)=>y.patch(route("cart.update",a),{quantity:t}),$=a=>y.delete(route("cart.delete",a));function D(){if(!v().props.auth.user){y.visit(route("login"));return}w.value=!0,y.visit(route("checkout.store"),{method:"post",data:{carts:l.value,products:p.value,total:_.value,address:o},onFinish:()=>w.value=!1})}return(a,t)=>(i(),O(M,null,{default:f(()=>[e("section",L,[e("div",G,[e("div",H,[t[10]||(t[10]=e("h1",{class:"text-3xl font-extrabold text-indigo-700 mb-6"}," üõí Tu Carrito ",-1)),p.value.length===0?(i(),n("div",Q,[t[8]||(t[8]=e("h2",{class:"text-2xl font-semibold text-gray-700 mb-2"}," Tu carrito est√° vac√≠o ",-1)),t[9]||(t[9]=e("p",{class:"text-gray-500 mb-4"}," ¬°Explora productos y a√±ade algo que te guste! ",-1)),P(z(B),{href:a.route("products.index"),class:"inline-block bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-xl shadow-md transition-all"},{default:f(()=>t[7]||(t[7]=[T(" Ir a la tienda ")])),_:1,__:[7]},8,["href"])])):h("",!0),P(F,{name:"fade",tag:"div"},{default:f(()=>[(i(!0),n(U,null,A(p.value,s=>(i(),n("div",{key:s.id,class:"bg-white/80 dark:bg-white/10 backdrop-blur-md rounded-2xl shadow-[0_4px_30px_rgba(0,0,0,0.05)] p-5 flex flex-col sm:flex-row items-center justify-between gap-4 hover:scale-[1.01] transition-all duration-300 ease-in-out"},[e("div",J,[e("img",{src:s.product_images.length?`/${s.product_images[0].image}`:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png",class:"w-20 h-20 object-cover rounded-xl border"},null,8,K),e("div",null,[e("h2",R,r(s.title),1),e("p",W,r(s.price)+" ‚Ç¨ ",1)])]),e("div",X,[e("button",{onClick:k(g=>V(s,l.value[m(s.id)].quantity-1),["prevent"]),disabled:l.value[m(s.id)].quantity<=1,class:"h-8 w-8 flex items-center justify-center text-white bg-indigo-500 hover:bg-indigo-600 active:scale-95 disabled:opacity-50 rounded-full shadow-md transition-all"}," - ",8,Y),u(e("input",{type:"number","onUpdate:modelValue":g=>l.value[m(s.id)].quantity=g,class:"w-14 text-center border border-gray-300 dark:border-gray-600 rounded-md py-1 px-2 shadow-inner bg-white dark:bg-gray-700 text-black dark:text-white"},null,8,Z),[[c,l.value[m(s.id)].quantity,void 0,{number:!0}]]),e("button",{onClick:k(g=>V(s,l.value[m(s.id)].quantity+1),["prevent"]),class:"h-8 w-8 flex items-center justify-center text-white bg-indigo-500 hover:bg-indigo-600 active:scale-95 rounded-full shadow-md transition-all"}," + ",8,ee),e("button",{onClick:g=>$(s),class:"ml-4 text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors"}," ‚úï ",8,te)])]))),128))]),_:1})]),e("div",se,[t[16]||(t[16]=e("h2",{class:"text-2xl font-bold text-gray-800 dark:text-white mb-4"}," üßæ Direcci√≥n Pedido ",-1)),e("div",oe,[t[11]||(t[11]=T(" Total: ")),e("span",ae,r(_.value)+" ‚Ç¨ ",1)]),e("div",re,[e("div",ie,[t[12]||(t[12]=e("h3",{class:"text-sm font-semibold text-amber-800 dark:text-amber-200 flex items-center"}," ‚ö†Ô∏è Modo de Prueba ",-1)),e("button",{onClick:t[0]||(t[0]=s=>x.value=!x.value),class:"text-xs text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-200 transition-colors"},r(x.value?"Ocultar":"Ver tarjetas de prueba"),1)]),t[14]||(t[14]=e("p",{class:"text-xs text-amber-700 dark:text-amber-300 mb-2"}," Esta tienda est√° en modo de prueba. Usa las tarjetas de prueba de Stripe para simular pagos. ",-1)),x.value?(i(),n("div",de,[(i(),n(U,null,A(I,s=>e("div",{key:s.number,class:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded-lg border"},[e("div",null,[e("p",le,r(s.number),1),e("p",ne,r(s.description),1)]),e("button",{onClick:g=>N(s.number),class:"text-xs px-2 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 rounded hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors"}," Copiar ",8,ue)])),64)),t[13]||(t[13]=e("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-2"}," üí° Usa cualquier fecha futura y CVC (ej: 123) ",-1))])):h("",!0)]),d.userAddress?(i(),n("div",ce,[t[15]||(t[15]=e("h3",{class:"text-md font-semibold text-gray-700 dark:text-gray-300"}," Shipping to: ",-1)),e("p",null,r(d.userAddress.address1)+", "+r(d.userAddress.city)+", "+r(d.userAddress.zipcode),1)])):h("",!0),d.userAddress?h("",!0):(i(),n("div",pe,[u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.address1=s),placeholder:"Direcci√≥n",class:"input-modern"},null,512),[[c,o.address1]]),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.city=s),placeholder:"Ciudad",class:"input-modern"},null,512),[[c,o.city]]),u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.state=s),placeholder:"Estado",class:"input-modern"},null,512),[[c,o.state]]),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.zipcode=s),placeholder:"Codigo Postal",class:"input-modern"},null,512),[[c,o.zipcode]]),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.country_code=s),placeholder:"Siglas Pa√≠s",class:"input-modern"},null,512),[[c,o.country_code]]),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.type=s),placeholder:"Tipo Direcci√≥n (trabajo, casa ...)",class:"input-modern"},null,512),[[c,o.type]])])),e("button",{onClick:k(D,["prevent"]),disabled:p.value.length===0||!(C.value||d.userAddress),class:"w-full mt-6 py-3 text-white bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 rounded-xl shadow-lg transition-all disabled:opacity-40",title:p.value.length===0?"Tu carrito est√° vac√≠o":C.value||d.userAddress?"":"Por favor completa la direcci√≥n"}," üöÄ Proceder al checkout ",8,me)])])])]),_:1}))}},fe=S(ge,[["__scopeId","data-v-974d2793"]]);export{fe as default};
