import{Q as q,r as l,b as D,d as a,o as r,e,a as N,w as j,f as X,g as Y,h as f,v as _,F as C,i as P,u as E,t as i,q as F,j as I,k as y,O as S}from"./app-VUCWl0Gg.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ee={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 p-4 sm:p-6"},te={class:"flex items-center space-x-3"},oe={class:"text-xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent"},se={class:"group"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ae={class:"group"},re={class:"relative"},ne={class:"group"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},de={class:"group"},ue=["value"],ce={class:"group"},pe=["value"],be={class:"group"},xe={class:"group"},ve={class:"border-2 border-dashed border-slate-300 rounded-xl p-6 bg-slate-50/50 hover:bg-slate-100/50 transition-colors"},fe={key:0,class:"space-y-3"},ge={class:"flex flex-wrap gap-3"},me={class:"w-20 h-20 rounded-xl overflow-hidden bg-slate-100 border-2 border-slate-200"},he=["src"],we=["onClick"],ye={class:"flex justify-end space-x-3 pt-4 border-t border-slate-200"},ke={type:"submit",class:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"},_e={class:"relative max-w-7xl mx-auto"},Ce={class:"bg-white/70 backdrop-blur-md rounded-3xl shadow-xl border border-white/20 overflow-hidden"},Pe={class:"overflow-x-auto"},Se={class:"w-full"},Be={class:"divide-y divide-slate-200/50"},je={class:"px-6 py-4"},Me={class:"font-semibold text-slate-900"},Ve={class:"px-6 py-4"},Ae={class:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},Ue={class:"px-6 py-4"},qe={class:"px-3 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full"},De={class:"px-6 py-4"},Ne={class:"font-semibold text-slate-700"},Ee={class:"px-6 py-4"},Fe={class:"font-bold text-green-600"},Ie={class:"px-6 py-4"},Le={key:0,class:"inline-flex items-center px-3 py-1 text-xs font-semibold bg-emerald-100 text-emerald-800 rounded-full"},He={key:1,class:"inline-flex items-center px-3 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full"},Te={class:"px-6 py-4"},$e={key:0,type:"button",class:"inline-flex items-center px-3 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full hover:bg-green-200 transition-colors"},ze={key:1,type:"button",class:"inline-flex items-center px-3 py-1 text-xs font-semibold bg-orange-100 text-orange-800 rounded-full hover:bg-orange-200 transition-colors"},Oe={class:"px-6 py-4 text-right"},Ge={class:"flex items-center justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Qe=["onClick"],Re=["onClick"],Je={__name:"ProductList",props:{products:Array,pagination:Object},setup(L){const H=q().props.brands,T=q().props.categories,M=l(!1),u=l(!1),n=l(!1),c=l([]),V=l(""),$=o=>{console.log(o),c.value.push(o)},z=o=>{V.value=o.url,n.value=!0},O=o=>{console.log(o)},B=l(""),p=l(""),b=l(""),x=l(""),v=l(""),g=l([]);l("");const m=l(""),h=l("");l("");const G=(o,t)=>{console.log(o,t),B.value=o.id,p.value=o.title,b.value=o.price,x.value=o.quantity,v.value=o.description,h.value=o.brand_id,m.value=o.category_id,g.value=o.product_images,u.value=!0,M.value=!1,n.value=!0},Q=()=>{M.value=!0,n.value=!0,u.value=!1},R=async()=>{const o=new FormData;o.append("title",p.value),o.append("price",b.value),o.append("quantity",x.value),o.append("description",v.value),o.append("brand_id",h.value),o.append("category_id",m.value);for(const t of c.value)o.append("product_images[]",t.raw);try{await S.post("products/store",o,{onSuccess:t=>{Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:t.props.flash.success}),n.value=!1,A()}})}catch(t){console.log(t)}},A=()=>{B.value="",p.value="",b.value="",x.value="",v.value="",c.value=[],V.value=""},J=async(o,t)=>{try{await S.delete("/admin/products/image/"+o.id,{onSuccess:d=>{g.value.splice(t,1),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:d.props.flash.success})}})}catch(d){console.log(d)}},K=async()=>{const o=new FormData;o.append("title",p.value),o.append("price",b.value),o.append("quantity",x.value),o.append("description",v.value),o.append("category_id",m.value),o.append("brand_id",h.value),o.append("_method","PUT");for(const t of c.value)o.append("product_images[]",t.raw);try{await S.post("products/update/"+B.value,o,{onSuccess:t=>{n.value=!1,A(),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:t.props.flash.success})}})}catch(t){console.log(t)}},W=(o,t)=>{Swal.fire({title:"¿Estás seguro?",text:"¡Esta acción no se puede deshacer!",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",customClass:{popup:"rounded-xl shadow-lg",title:"text-lg font-semibold text-gray-800",htmlContainer:"text-sm text-gray-600",confirmButton:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md focus:outline-none",cancelButton:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md focus:outline-none"},buttonsStyling:!1,backdrop:!0}).then(d=>{if(d.isConfirmed)try{S.delete("products/destory/"+o.id,{onSuccess:w=>{deleteProductFromList(o,t),Swal.fire({toast:!0,icon:"success",position:"top-end",title:w.props.flash.success||"Producto eliminado correctamente",showConfirmButton:!1,timer:3e3,customClass:{popup:"rounded-xl shadow-md bg-white text-gray-800 text-sm p-3"}})}})}catch(w){console.log(w)}})};return(o,t)=>{const d=D("el-upload"),w=D("el-dialog");return r(),a("section",ee,[t[32]||(t[32]=e("div",{class:"absolute inset-0 opacity-5 pointer-events-none"},[e("div",{class:"absolute inset-0",style:{"background-image":"radial-gradient(circle at 1px 1px, rgba(0,0,0,0.1) 1px, transparent 0)","background-size":"20px 20px"}})],-1)),N(w,{modelValue:n.value,"onUpdate:modelValue":t[9]||(t[9]=s=>n.value=s),title:u.value?"Editar Producto":"Nuevo Producto",width:"800px","before-close":()=>n.value=!1,class:"modern-dialog","modal-class":"modern-modal-backdrop"},{header:j(()=>[e("div",te,[t[10]||(t[10]=e("div",{class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1)),e("h3",oe,i(u.value?"Editar Producto":"Nuevo Producto"),1)])]),default:j(()=>[e("form",{onSubmit:t[8]||(t[8]=X(s=>u.value?K():R(),["prevent"])),class:"space-y-6"},[e("div",se,[t[11]||(t[11]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2 group-focus-within:text-blue-600 transition-colors"}," Título del Producto ",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",required:"",class:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 placeholder-slate-400",placeholder:"Ingresa el título del producto"},null,512),[[_,p.value]])]),e("div",le,[e("div",ae,[t[13]||(t[13]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2 group-focus-within:text-blue-600 transition-colors"}," Precio ",-1)),e("div",re,[t[12]||(t[12]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-slate-500 text-lg"},"€")],-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>b.value=s),type:"text",required:"",class:"w-full pl-8 pr-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200",placeholder:"0.00"},null,512),[[_,b.value]])])]),e("div",ne,[t[14]||(t[14]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2 group-focus-within:text-blue-600 transition-colors"}," Cantidad ",-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>x.value=s),type:"number",required:"",class:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200",placeholder:"0"},null,512),[[_,x.value]])])]),e("div",ie,[e("div",de,[t[15]||(t[15]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2"},"Categoría",-1)),f(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),class:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},[(r(!0),a(C,null,P(E(T),s=>(r(),a("option",{key:s.id,value:s.id},i(s.name),9,ue))),128))],512),[[F,m.value]])]),e("div",ce,[t[16]||(t[16]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2"},"Marca",-1)),f(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>h.value=s),class:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},[(r(!0),a(C,null,P(E(H),s=>(r(),a("option",{key:s.id,value:s.id},i(s.name),9,pe))),128))],512),[[F,h.value]])])]),e("div",be,[t[17]||(t[17]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-2 group-focus-within:text-blue-600 transition-colors"}," Descripción ",-1)),f(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>v.value=s),rows:"4",class:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 placeholder-slate-400 resize-none",placeholder:"Describe el producto..."},null,512),[[_,v.value]])]),e("div",xe,[t[19]||(t[19]=e("label",{class:"block text-sm font-semibold text-slate-700 mb-4"},"Imágenes del Producto",-1)),e("div",ve,[N(d,{"file-list":c.value,"onUpdate:fileList":t[6]||(t[6]=s=>c.value=s),"list-type":"picture-card",multiple:"","on-preview":z,"on-remove":O,"on-change":$,class:"upload-modern"},{default:j(()=>t[18]||(t[18]=[e("div",{class:"flex flex-col items-center justify-center text-slate-500"},[e("svg",{class:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),e("span",{class:"text-sm font-medium"},"Agregar imagen")],-1)])),_:1,__:[18]},8,["file-list"])])]),g.value&&g.value.length>0?(r(),a("div",fe,[t[20]||(t[20]=e("label",{class:"block text-sm font-semibold text-slate-700"},"Imágenes Actuales",-1)),e("div",ge,[(r(!0),a(C,null,P(g.value,(s,k)=>(r(),a("div",{key:s.id,class:"relative group"},[e("div",me,[e("img",{class:"w-full h-full object-cover",src:`/${s.image}`,alt:""},null,8,he)]),e("button",{onClick:U=>J(s,k),type:"button",class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-xs font-bold transition-colors duration-200 opacity-0 group-hover:opacity-100"}," × ",8,we)]))),128))])])):Y("",!0),e("div",ye,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>n.value=!1),class:"px-6 py-3 text-slate-600 hover:text-slate-800 font-semibold transition-colors duration-200"}," Cancelar "),e("button",ke,i(u.value?"Actualizar":"Crear")+" Producto ",1)])],32)]),_:1},8,["modelValue","title","before-close"]),e("div",_e,[e("div",{class:"mb-8"},[e("div",{class:"bg-white/70 backdrop-blur-md rounded-3xl shadow-xl border border-white/20 p-6"},[e("div",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},[t[23]||(t[23]=e("div",null,[e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-slate-900 via-blue-800 to-purple-800 bg-clip-text text-transparent"}," Gestión de Productos "),e("p",{class:"text-slate-600 mt-1"},"Administra tu inventario de manera eficiente")],-1)),e("div",{class:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4"},[t[22]||(t[22]=I('<div class="relative group" data-v-4a197ad9><div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none" data-v-4a197ad9><svg class="w-5 h-5 text-slate-400 group-focus-within:text-blue-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4a197ad9><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-v-4a197ad9></path></svg></div><input type="text" placeholder="Buscar productos..." class="w-full sm:w-80 pl-12 pr-4 py-3 bg-white/70 border-2 border-slate-200/50 rounded-2xl focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200 placeholder-slate-400" data-v-4a197ad9></div>',1)),e("button",{onClick:Q,type:"button",class:"group flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"},t[21]||(t[21]=[e("svg",{class:"w-5 h-5 mr-2 group-hover:rotate-90 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),y(" Nuevo Producto ")]))])])])]),e("div",Ce,[e("div",Pe,[e("table",Se,[t[30]||(t[30]=e("thead",null,[e("tr",{class:"bg-gradient-to-r from-slate-50 to-slate-100 border-b border-slate-200/50"},[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider"},"Producto"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider"},"Categoría"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider"},"Marca"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider"},"Cantidad"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider"},"Precio"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider"},"Stock"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-4 text-right text-xs font-bold text-slate-700 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",Be,[(r(!0),a(C,null,P(L.products,(s,k)=>(r(),a("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors duration-200 group"},[e("td",je,[e("div",Me,i(s.title),1)]),e("td",Ve,[e("span",Ae,i(s.category.name),1)]),e("td",Ue,[e("span",qe,i(s.brand.name),1)]),e("td",De,[e("span",Ne,i(s.quantity),1)]),e("td",Ee,[e("span",Fe,i(s.price)+" € ",1)]),e("td",Ie,[s.inStock==0?(r(),a("span",Le,t[24]||(t[24]=[e("div",{class:"w-2 h-2 bg-emerald-500 rounded-full mr-2"},null,-1),y(" En Stock ")]))):(r(),a("span",He,t[25]||(t[25]=[e("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2"},null,-1),y(" Sin Stock ")])))]),e("td",Te,[s.published==0?(r(),a("button",$e,t[26]||(t[26]=[e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1),y(" Publicado ")]))):(r(),a("button",ze,t[27]||(t[27]=[e("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),y(" No Publicado ")])))]),e("td",Oe,[e("div",Ge,[e("button",{onClick:U=>G(s,k),class:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200"},t[28]||(t[28]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,Qe),e("button",{onClick:U=>W(s,k),class:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200"},t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Re)])])]))),128))])])]),t[31]||(t[31]=I('<div class="bg-gradient-to-r from-slate-50 to-slate-100 px-6 py-4 border-t border-slate-200/50" data-v-4a197ad9><div class="flex items-center justify-between" data-v-4a197ad9><div class="text-sm text-slate-600" data-v-4a197ad9> Mostrando <span class="font-semibold text-slate-900" data-v-4a197ad9>1-10</span> de <span class="font-semibold text-slate-900" data-v-4a197ad9>1000</span> productos </div></div></div>',1))])])])}}},Xe=Z(Je,[["__scopeId","data-v-4a197ad9"]]);export{Xe as default};
