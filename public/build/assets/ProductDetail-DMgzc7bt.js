import{r as d,m as S,b as M,c as A,o as a,w as f,e,a as u,A as v,d as l,g as b,t as n,F as k,i as _,n as C,u as E,l as j,f as z,O as T}from"./app-VUCWl0Gg.js";import B from"./UserLayouts-COxKAhQY.js";import D from"./Footer-DA4rZ5zl.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BVa2igQ_.js";import"./Header-Cij-5aV4.js";const O={id:"ItemPage",class:"my-12 pb-16 px-4 md:px-10 max-w-7xl mx-auto"},F={class:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-start reveal-on-scroll"},L=["src","alt"],P={class:"absolute top-2 left-2 bg-gray-900/80 dark:bg-gray-200/80 text-white dark:text-gray-900 text-xs px-3 py-1 rounded-full shadow select-none"},V={key:0,class:"absolute bottom-2 right-2 bg-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold select-none"},q={class:"flex gap-2 mt-4 overflow-x-auto"},G=["onClick"],H=["src"],J={class:"bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-xl space-y-4 animate-fade-in reveal-on-scroll"},K={class:"text-3xl font-extrabold text-gray-900 dark:text-gray-100"},Q={class:"text-gray-500 dark:text-gray-400 font-medium"},R={class:"text-base text-gray-700 dark:text-gray-300 leading-relaxed"},U={class:"flex items-center space-x-2 text-sm mt-2"},W={class:"flex space-x-1 text-yellow-400"},X={class:"flex items-center gap-3 text-2xl font-bold text-gray-800 dark:text-gray-100 mt-3"},Y={class:"flex flex-col sm:flex-row gap-4 mt-6"},Z=["disabled"],ee={key:0},te={key:1},se={key:2},oe=["src"],ae={__name:"ProductDetail",props:{product:Object},setup(o){var y;const r=d(`/${((y=o.product.product_images[0])==null?void 0:y.image)||""}`),x=d(!1),m=d(!1),p=d(!1),h=d(5),$=d(h.value<=5),w=d(!1);S(()=>{const i=localStorage.getItem("darkMode");i&&(w.value=i==="true");const t=document.querySelectorAll(".reveal-on-scroll"),c=new IntersectionObserver(s=>{s.forEach(g=>{g.isIntersecting&&g.target.classList.add("reveal-visible")})},{threshold:.1});t.forEach(s=>c.observe(s))});const I=i=>{m.value||(m.value=!0,p.value=!1,T.post(route("cart.store",i),{},{onSuccess:t=>{var c;(c=t.props.flash)!=null&&c.success&&(p.value=!0,setTimeout(()=>{p.value=!1},2e3),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,timer:2500,title:t.props.flash.success}))},onError:()=>{Swal.fire({icon:"error",title:"Error",text:"No se pudo añadir el producto al carrito."})},onFinish:()=>{m.value=!1}}))};return(i,t)=>{const c=M("Icon");return a(),A(B,{class:C({dark:w.value})},{default:f(()=>[e("div",O,[e("div",F,[e("div",null,[e("div",{class:"relative rounded-2xl overflow-hidden shadow-md aspect-[4/3] cursor-pointer group",onClick:t[0]||(t[0]=s=>x.value=!0)},[u(v,{name:"fade"},{default:f(()=>[r.value?(a(),l("img",{key:r.value,src:r.value,alt:o.product.imageAlt,class:"w-full h-full object-cover object-center transition-transform duration-500",loading:"lazy"},null,8,L)):b("",!0)]),_:1}),e("span",P,n(o.product.product_images.length)+" imágenes ",1),u(v,{name:"blink"},{default:f(()=>[$.value?(a(),l("p",V," Últimas "+n(h.value)+" unidades ",1)):b("",!0)]),_:1})]),e("div",q,[(a(!0),l(k,null,_(o.product.product_images,(s,g)=>(a(),l("div",{key:g,class:C(["w-16 h-16 rounded-xl overflow-hidden border-2 cursor-pointer transition-all duration-300 hover:scale-110",{"border-blue-500 scale-105 shadow-lg":r.value===`/${s.image}`,"border-transparent":r.value!==`/${s.image}`}]),onClick:re=>r.value=`/${s.image}`},[e("img",{src:`/${s.image}`,class:"w-full h-full object-cover object-center",loading:"lazy",alt:"Miniatura producto"},null,8,H)],10,G))),128))])]),e("div",J,[e("h1",K,n(o.product.title),1),e("p",Q,n(o.product.brand.name)+" — "+n(o.product.category.name),1),e("div",R,n(o.product.description),1),e("div",U,[e("div",W,[(a(),l(k,null,_(5,s=>u(c,{name:"ic:baseline-star",key:s})),64))]),t[3]||(t[3]=e("span",{class:"text-gray-500 dark:text-gray-400"},"5/5 · 213 valoraciones",-1))]),e("div",X,[e("span",null,n(o.product.price)+" € ",1),t[4]||(t[4]=e("span",{class:"bg-yellow-100 dark:bg-yellow-700 text-yellow-800 dark:text-yellow-200 text-xs font-semibold px-2 py-1 rounded-full select-none"}," -70% dto ",-1))]),t[6]||(t[6]=e("p",{class:"text-green-600 dark:text-green-400 text-sm font-medium"}," Envío gratis en 11 días — desde 8,28 € ",-1)),t[7]||(t[7]=e("div",{class:"flex flex-col sm:flex-row gap-4 mt-4"},[e("div",null,[e("p",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1"}," Color: "),e("div",{class:"flex gap-2"},[e("span",{class:"w-5 h-5 rounded-full bg-red-600 border border-white shadow"}),e("span",{class:"w-5 h-5 rounded-full bg-blue-600 border border-white shadow"}),e("span",{class:"w-5 h-5 rounded-full bg-black border border-white shadow"})])]),e("div",null,[e("p",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1"}," Talla: "),e("div",{class:"flex gap-2"},[e("span",{class:"px-3 py-1 rounded-md border text-sm cursor-default"},"S"),e("span",{class:"px-3 py-1 rounded-md border text-sm cursor-default"},"M"),e("span",{class:"px-3 py-1 rounded-md border text-sm cursor-default"},"L")])])],-1)),e("div",Y,[e("button",{onClick:t[1]||(t[1]=s=>I(o.product)),disabled:m.value,class:"w-full sm:w-auto px-6 py-3 rounded-lg bg-gradient-to-r from-pink-500 to-orange-400 text-white font-semibold shadow-md hover:shadow-lg hover:scale-105 transition-all duration-300"},[m.value?(a(),l("span",ee,"Añadiendo...")):p.value?(a(),l("span",te,"Añadido ✓")):(a(),l("span",se,"Añadir al carrito"))],8,Z),u(E(j),{href:i.route("products.index")},{default:f(()=>t[5]||(t[5]=[e("button",{class:"w-full sm:w-auto px-6 py-3 rounded-lg bg-gradient-to-r from-green-300 to-lime-200 text-gray-800 font-semibold shadow-md hover:shadow-lg hover:scale-105 transition-all duration-300"}," Seguir comprando ",-1)])),_:1,__:[5]},8,["href"])])])])]),u(v,{name:"fade"},{default:f(()=>[x.value?(a(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 cursor-zoom-out",onClick:t[2]||(t[2]=z(s=>x.value=!1,["self"]))},[e("img",{src:r.value,alt:"Imagen ampliada producto",class:"max-w-[90vw] max-h-[90vh] rounded-lg shadow-lg",loading:"lazy"},null,8,oe)])):b("",!0)]),_:1}),u(D)]),_:1},8,["class"])}}},fe=N(ae,[["__scopeId","data-v-1376a060"]]);export{fe as default};
