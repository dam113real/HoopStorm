import{Q as N,r as l,b as k,d as s,o as r,a as V,e,w as y,f as q,g as G,h as w,v as _,F as S,i as H,t as x,j as L,k as j,O as m}from"./app-DoReGEuS.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"min-h-screen p-3 sm:p-8"},J={class:"flex items-center space-x-3"},K={class:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},W={class:"backdrop-blur-sm bg-white/5 rounded-2xl p-6 border border-gray-200"},X={class:"group"},Y={class:"relative"},Z={class:"space-y-2"},ee={class:"space-y-2"},te={class:"space-y-4"},ae={class:"border-2 border-dashed border-gray-300 rounded-xl p-8 bg-gray-50 hover:border-gray-400 transition-all duration-300"},oe={key:0,class:"space-y-2"},le={class:"flex flex-wrap gap-4"},se={class:"w-24 h-24 rounded-xl overflow-hidden bg-gray-100 border border-gray-200"},re=["src"],ne=["onClick"],de={class:"flex justify-end pt-4"},ie={type:"submit",class:"group relative px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium rounded-xl hover:from-blue-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"},ue={class:"relative flex items-center space-x-2"},ce={class:"max-w-7xl mx-auto"},pe={class:"bg-white rounded-3xl shadow-2xl border border-gray-200 overflow-hidden"},ve={class:"overflow-x-auto"},ge={class:"w-full"},fe={class:"divide-y divide-gray-100"},xe={class:"py-4 px-6"},me={class:"flex items-center space-x-4"},he={class:"text-gray-800 font-medium"},be={class:"text-gray-500 text-sm mt-1"},ye={class:"py-4 px-6"},we={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200"},_e={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200"},Ce={class:"py-4 px-6 text-right"},ze={class:"flex items-center justify-end space-x-2"},Be=["onClick"],Me=["onClick"],Ne={__name:"NewsList",props:{news:Array},setup(A){N().props.brands,N().props.categories;const C=l(!1),i=l(!1),n=l(!1),u=l([]),z=l(""),D=a=>{console.log(a),u.value.push(a)},E=a=>{z.value=a.url,n.value=!0},T=a=>{console.log(a)},h=l(""),c=l(""),p=l(""),v=l(""),g=l([]);l("");const U=(a,t)=>{console.log(a,t),h.value=a.id,c.value=a.title,p.value=a.description,v.value=a.extrainfo,g.value=a.news_images,i.value=!0,C.value=!1,n.value=!0},F=()=>{C.value=!0,n.value=!0,i.value=!1},P=async()=>{const a=new FormData;a.append("title",c.value),a.append("description",p.value),a.append("extrainfo",v.value);for(const t of u.value)a.append("news_images[]",t.raw);try{await m.post("news/store",a,{onSuccess:t=>{Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:t.props.flash.success}),n.value=!1,B()}})}catch(t){console.log(t)}},B=()=>{h.value="",c.value="",p.value="",v.value="",u.value=[],z.value=""},$=async(a,t)=>{try{await m.delete("/admin/news/image/"+a.id,{onSuccess:d=>{g.value.splice(t,1),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:d.props.flash.success})}})}catch(d){console.log(d)}},I=async()=>{const a=new FormData;a.append("title",c.value),a.append("description",p.value),a.append("extrainfo",v.value),a.append("_method","PUT");for(const t of u.value)a.append("news_images[]",t.raw);try{await m.post("news/update/"+h.value,a,{onSuccess:t=>{n.value=!1,B(),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:t.props.flash.success})}})}catch(t){console.log(t)}},O=(a,t)=>{Swal.fire({title:"Are you Sure",text:"This actions cannot undo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"no",confirmButtonText:"yes, delete!"}).then(d=>{if(d.isConfirmed)try{m.delete("news/destory/"+a.id,{onSuccess:f=>{this.delete(a,t),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:f.props.flash.success})}})}catch(f){console.log(f)}})};return(a,t)=>{const d=k("el-upload"),f=k("el-dialog");return r(),s("section",R,[V(f,{modelValue:n.value,"onUpdate:modelValue":t[5]||(t[5]=o=>n.value=o),title:i.value?"Editar Noticia":"Nueva Noticia",width:"90%","max-width":"600px","before-close":a.handleClose,class:"modern-dialog"},{header:y(()=>[e("div",J,[t[6]||(t[6]=e("div",{class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})])],-1)),e("h3",K,x(i.value?"Editar Noticia":"Nueva Noticia"),1)])]),default:y(()=>[e("div",W,[e("form",{onSubmit:t[4]||(t[4]=q(o=>i.value?I():P(),["prevent"])),class:"space-y-6"},[e("div",X,[e("div",Y,[w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o),type:"text",id:"floating_title",class:"peer w-full bg-transparent border-0 border-b-2 border-gray-300 text-gray-800 placeholder-transparent focus:border-blue-500 focus:outline-none transition-all duration-300 py-3 text-lg",placeholder:"Título de la noticia",required:""},null,512),[[_,c.value]]),t[7]||(t[7]=e("label",{for:"floating_title",class:"absolute left-0 -top-6 text-blue-500 text-sm font-medium transition-all duration-300 peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-3 peer-placeholder-shown:text-lg peer-focus:-top-6 peer-focus:text-blue-500 peer-focus:text-sm"}," Título ",-1)),t[8]||(t[8]=e("div",{class:"absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 peer-focus:w-full"},null,-1))])]),e("div",Z,[t[9]||(t[9]=e("label",{class:"text-gray-700 text-sm font-medium flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})]),e("span",null,"Descripción")],-1)),w(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>p.value=o),rows:"4",class:"w-full bg-gray-50 border border-gray-300 rounded-xl text-gray-800 placeholder-gray-500 focus:border-blue-500 focus:bg-white transition-all duration-300 p-4 resize-none",placeholder:"Escribe la descripción de la noticia..."},null,512),[[_,p.value]])]),e("div",ee,[t[10]||(t[10]=e("label",{class:"text-gray-700 text-sm font-medium flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-purple-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"})]),e("span",null,"Información Extra")],-1)),w(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>v.value=o),rows:"4",class:"w-full bg-gray-50 border border-gray-300 rounded-xl text-gray-800 placeholder-gray-500 focus:border-purple-500 focus:bg-white transition-all duration-300 p-4 resize-none",placeholder:"Información adicional..."},null,512),[[_,v.value]])]),e("div",te,[t[12]||(t[12]=e("label",{class:"text-gray-700 text-sm font-medium flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"})]),e("span",null,"Imágenes")],-1)),e("div",ae,[V(d,{"file-list":u.value,"onUpdate:fileList":t[3]||(t[3]=o=>u.value=o),"list-type":"picture-card",multiple:"","on-preview":E,"on-remove":T,"on-change":D,class:"modern-upload"},{default:y(()=>t[11]||(t[11]=[e("div",{class:"flex flex-col items-center justify-center text-gray-500 hover:text-gray-700 transition-colors duration-300"},[e("svg",{class:"w-8 h-8 mb-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})]),e("span",{class:"text-sm"},"Subir imagen")],-1)])),_:1,__:[11]},8,["file-list"])])]),g.value&&g.value.length>0?(r(),s("div",oe,[t[13]||(t[13]=e("label",{class:"text-gray-700 text-sm font-medium"},"Imágenes actuales",-1)),e("div",le,[(r(!0),s(S,null,H(g.value,(o,b)=>(r(),s("div",{key:o.id,class:"group relative"},[e("div",se,[e("img",{class:"w-full h-full object-cover",src:`/${o.image}`,alt:""},null,8,re)]),e("button",{onClick:M=>$(o,b),class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center text-white text-xs font-bold opacity-0 group-hover:opacity-100 transition-all duration-300 transform hover:scale-110"}," × ",8,ne)]))),128))])])):G("",!0),e("div",de,[e("button",ie,[e("span",ue,[t[14]||(t[14]=e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})],-1)),e("span",null,x(i.value?"Actualizar":"Crear"),1)])])])],32)])]),_:1},8,["modelValue","title","before-close"]),e("div",ce,[e("div",pe,[e("div",{class:"bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200 p-6"},[e("div",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},[t[16]||(t[16]=L('<div class="space-y-4 lg:space-y-0 lg:flex lg:items-center lg:space-x-6" data-v-47434d7d><div data-v-47434d7d><h1 class="text-2xl font-bold text-gray-800 mb-1" data-v-47434d7d>Gestión de Noticias</h1><p class="text-gray-600 text-sm" data-v-47434d7d>Administra el contenido de noticias</p></div><div class="relative group" data-v-47434d7d><div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none" data-v-47434d7d><svg class="w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-300" fill="currentColor" viewBox="0 0 20 20" data-v-47434d7d><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" data-v-47434d7d></path></svg></div><input type="text" class="w-full lg:w-80 bg-white border border-gray-300 rounded-xl pl-12 pr-4 py-3 text-gray-800 placeholder-gray-500 focus:bg-white focus:border-blue-500 focus:outline-none transition-all duration-300" placeholder="Buscar noticias..." data-v-47434d7d></div></div>',1)),e("button",{onClick:F,class:"group relative px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium rounded-xl hover:from-green-600 hover:to-emerald-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"},t[15]||(t[15]=[e("span",{class:"flex items-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})]),e("span",null,"Nueva Noticia")],-1)]))])]),e("div",ve,[e("table",ge,[t[22]||(t[22]=e("thead",null,[e("tr",{class:"border-b border-gray-200"},[e("th",{class:"text-left py-4 px-6 text-gray-600 font-medium text-sm uppercase tracking-wider"}," Noticia "),e("th",{class:"text-left py-4 px-6 text-gray-600 font-medium text-sm uppercase tracking-wider"}," Estado "),e("th",{class:"text-right py-4 px-6 text-gray-600 font-medium text-sm uppercase tracking-wider"}," Acciones ")])],-1)),e("tbody",fe,[(r(!0),s(S,null,H(A.news,(o,b)=>(r(),s("tr",{key:o.id,class:"group hover:bg-gray-50 transition-all duration-300"},[e("td",xe,[e("div",me,[t[17]||(t[17]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z"})])],-1)),e("div",null,[e("h3",he,x(o.title),1),e("p",be,"ID: "+x(o.id),1)])])]),e("td",ye,[o.published==0?(r(),s("span",we,t[18]||(t[18]=[e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"},null,-1),j(" Publicado ")]))):(r(),s("span",_e,t[19]||(t[19]=[e("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2"},null,-1),j(" No Publicado ")])))]),e("td",Ce,[e("div",ze,[e("button",{onClick:M=>U(o),class:"group/btn p-2 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded-lg transition-all duration-300 hover:scale-110",title:"Editar"},t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]),8,Be),e("button",{onClick:M=>O(o,b),class:"group/btn p-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-lg transition-all duration-300 hover:scale-110",title:"Eliminar"},t[21]||(t[21]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"})],-1)]),8,Me)])])]))),128))])])]),t[23]||(t[23]=L('<div class="bg-gray-50 border-t border-gray-200 px-6 py-4" data-v-47434d7d><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0" data-v-47434d7d><div class="text-sm text-gray-600" data-v-47434d7d> Mostrando <span class="font-medium text-gray-800" data-v-47434d7d>1-10</span> de <span class="font-medium text-gray-800" data-v-47434d7d>1000</span> resultados </div><div class="flex items-center space-x-1" data-v-47434d7d><button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all duration-300" data-v-47434d7d><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-v-47434d7d><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" data-v-47434d7d></path></svg></button><button class="px-3 py-2 text-sm bg-blue-100 text-blue-600 rounded-lg font-medium" data-v-47434d7d>1</button><button class="px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-300" data-v-47434d7d>2</button><button class="px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-300" data-v-47434d7d>3</button><span class="px-3 py-2 text-sm text-gray-400" data-v-47434d7d>...</span><button class="px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-300" data-v-47434d7d>100</button><button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all duration-300" data-v-47434d7d><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-v-47434d7d><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" data-v-47434d7d></path></svg></button></div></div></div>',1))])])])}}},Se=Q(Ne,[["__scopeId","data-v-47434d7d"]]);export{Se as default};
