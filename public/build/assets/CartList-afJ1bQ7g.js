import{s as x,Q as v,H as P,r as q,b as N,c as D,o as n,w as b,e as t,d as g,g as y,a as V,k as A,I as L,F as $,i as z,t as u,h as i,f,O as h,v as l}from"./app-VUCWl0Gg.js";import B from"./UserLayouts-COxKAhQY.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BVa2igQ_.js";import"./Header-Cij-5aV4.js";const O={class:"relative bg-gradient-to-tr from-indigo-100 via-white to-purple-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-16 min-h-screen overflow-hidden transition-colors duration-500"},E={class:"container mx-auto px-4 grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-10"},S={class:"lg:col-span-2 space-y-6"},M={key:0,class:"text-center py-16 bg-white/60 rounded-2xl shadow-xl"},G={class:"flex gap-4 items-center"},H=["src"],Q={class:"text-lg font-bold text-gray-800 dark:text-gray-100"},J={class:"text-sm text-gray-500 dark:text-gray-400"},K={class:"flex items-center gap-3"},R=["onClick","disabled"],W=["onUpdate:modelValue"],X=["onClick"],Y=["onClick"],Z={class:"bg-white/70 dark:bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 transition-all"},ee={class:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-4"},te={class:"text-indigo-600 dark:text-indigo-400"},se={key:0,class:"mb-6 text-sm text-gray-600 dark:text-gray-400"},oe={key:1,class:"space-y-4"},ae=["disabled","title"],re={__name:"CartList",props:{userAddress:Object},setup(T){const r=T,d=x(()=>v().props.cart.data.items),c=x(()=>v().props.cart.data.products),k=x(()=>v().props.cart.data.total),p=a=>d.value.findIndex(e=>e.product_id===a),o=P({address1:"",state:"",city:"",zipcode:"",country_code:"",type:""}),_=q(!1),w=x(()=>Object.values(o).every(a=>a.trim()!=="")),C=(a,e)=>h.patch(route("cart.update",a),{quantity:e}),U=a=>h.delete(route("cart.delete",a));function j(){if(!v().props.auth.user){h.visit(route("login"));return}_.value=!0,h.visit(route("checkout.store"),{method:"post",data:{carts:d.value,products:c.value,total:k.value,address:o},onFinish:()=>_.value=!1})}return(a,e)=>{const I=N("Link");return n(),D(B,null,{default:b(()=>[t("section",O,[t("div",E,[t("div",S,[e[9]||(e[9]=t("h1",{class:"text-3xl font-extrabold text-indigo-700 mb-6"}," üõí Tu Carrito ",-1)),c.value.length===0?(n(),g("div",M,[e[7]||(e[7]=t("h2",{class:"text-2xl font-semibold text-gray-700 mb-2"}," Tu carrito est√° vac√≠o ",-1)),e[8]||(e[8]=t("p",{class:"text-gray-500 mb-4"}," ¬°Explora productos y a√±ade algo que te guste! ",-1)),V(I,{href:a.route("products.index"),class:"inline-block bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-xl shadow-md transition-all"},{default:b(()=>e[6]||(e[6]=[A(" Ir a la tienda ")])),_:1,__:[6]},8,["href"])])):y("",!0),V(L,{name:"fade",tag:"div"},{default:b(()=>[(n(!0),g($,null,z(c.value,s=>(n(),g("div",{key:s.id,class:"bg-white/80 dark:bg-white/10 backdrop-blur-md rounded-2xl shadow-[0_4px_30px_rgba(0,0,0,0.05)] p-5 flex flex-col sm:flex-row items-center justify-between gap-4 hover:scale-[1.01] transition-all duration-300 ease-in-out"},[t("div",G,[t("img",{src:s.product_images.length?`/${s.product_images[0].image}`:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png",class:"w-20 h-20 object-cover rounded-xl border"},null,8,H),t("div",null,[t("h2",Q,u(s.title),1),t("p",J,u(s.price)+" ‚Ç¨ ",1)])]),t("div",K,[t("button",{onClick:f(m=>C(s,d.value[p(s.id)].quantity-1),["prevent"]),disabled:d.value[p(s.id)].quantity<=1,class:"h-8 w-8 flex items-center justify-center text-white bg-indigo-500 hover:bg-indigo-600 active:scale-95 disabled:opacity-50 rounded-full shadow-md transition-all"}," - ",8,R),i(t("input",{type:"number","onUpdate:modelValue":m=>d.value[p(s.id)].quantity=m,class:"w-14 text-center border border-gray-300 dark:border-gray-600 rounded-md py-1 px-2 shadow-inner bg-white dark:bg-gray-700 text-black dark:text-white"},null,8,W),[[l,d.value[p(s.id)].quantity,void 0,{number:!0}]]),t("button",{onClick:f(m=>C(s,d.value[p(s.id)].quantity+1),["prevent"]),class:"h-8 w-8 flex items-center justify-center text-white bg-indigo-500 hover:bg-indigo-600 active:scale-95 rounded-full shadow-md transition-all"}," + ",8,X),t("button",{onClick:m=>U(s),class:"ml-4 text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors"}," ‚úï ",8,Y)])]))),128))]),_:1})]),t("div",Z,[e[12]||(e[12]=t("h2",{class:"text-2xl font-bold text-gray-800 dark:text-white mb-4"}," üßæ Direcci√≥n Pedido ",-1)),t("div",ee,[e[10]||(e[10]=A(" Total: ")),t("span",te,u(k.value)+" ‚Ç¨ ",1)]),r.userAddress?(n(),g("div",se,[e[11]||(e[11]=t("h3",{class:"text-md font-semibold text-gray-700 dark:text-gray-300"}," Shipping to: ",-1)),t("p",null,u(r.userAddress.address1)+", "+u(r.userAddress.city)+", "+u(r.userAddress.zipcode),1)])):y("",!0),r.userAddress?y("",!0):(n(),g("div",oe,[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.address1=s),placeholder:"Direcci√≥n",class:"input-modern"},null,512),[[l,o.address1]]),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.city=s),placeholder:"Ciudad",class:"input-modern"},null,512),[[l,o.city]]),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.state=s),placeholder:"Estado",class:"input-modern"},null,512),[[l,o.state]]),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.zipcode=s),placeholder:"Codigo Postal",class:"input-modern"},null,512),[[l,o.zipcode]]),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.country_code=s),placeholder:"Siglas Pa√≠s",class:"input-modern"},null,512),[[l,o.country_code]]),i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.type=s),placeholder:"Tipo Direcci√≥n (trabajo, casa ...)",class:"input-modern"},null,512),[[l,o.type]])])),t("button",{onClick:f(j,["prevent"]),disabled:c.value.length===0||!(w.value||r.userAddress),class:"w-full mt-6 py-3 text-white bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 rounded-xl shadow-lg transition-all disabled:opacity-40",title:c.value.length===0?"Tu carrito est√° vac√≠o":w.value||r.userAddress?"":"Por favor completa la direcci√≥n"}," üöÄ Proceder al checkout ",8,ae)])])])]),_:1})}}},ce=F(re,[["__scopeId","data-v-32cec45e"]]);export{ce as default};
